<?xml version="1.0" encoding="UTF-8"?>
<application xmlns="http://geronimo.apache.org/xml/ns/j2ee/application-2.0"
             xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"
             application-name="bwcal" >

  <dep:environment>
    <dep:moduleId>
      <dep:groupId>org.bedework</dep:groupId>
      <dep:artifactId>bwcal</dep:artifactId>
      <dep:version>3.9</dep:version>
      <dep:type>car</dep:type>
    </dep:moduleId>

    <dep:dependencies>
      <dep:dependency>
        <dep:groupId>asm</dep:groupId>
        <dep:artifactId>asm</dep:artifactId>
        <dep:version>3.1</dep:version>
      </dep:dependency>
      
      <!--    16777 2012-03-29 09:41 asm-attrs.jar   -->
      
      <dep:dependency>
        <dep:groupId>backport-util-concurrent</dep:groupId>
        <dep:artifactId>backport-util-concurrent</dep:artifactId>
        <dep:version>3.1</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>commons-beanutils</dep:groupId>
        <dep:artifactId>commons-beanutils</dep:artifactId>
        <dep:version>1.8.0</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>cglib</dep:groupId>
        <dep:artifactId>cglib-nodep</dep:artifactId>
        <dep:version>2.1_3</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>commons-codec</dep:groupId>
        <dep:artifactId>commons-codec</dep:artifactId>
        <dep:version>1.5</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>commons-collections</dep:groupId>
        <dep:artifactId>commons-collections</dep:artifactId>
        <dep:version>3.2</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>commons-digester</dep:groupId>
        <dep:artifactId>commons-digester</dep:artifactId>
        <dep:version>1.8</dep:version>
      </dep:dependency>

      <dep:dependency>
        <dep:groupId>commons-fileupload</dep:groupId>
        <dep:artifactId>commons-fileupload</dep:artifactId>
        <dep:version>1.1.1</dep:version>
      </dep:dependency>

      <dep:dependency>
        <dep:groupId>commons-lang</dep:groupId>
        <dep:artifactId>commons-lang</dep:artifactId>
        <dep:version>2.4</dep:version> <!--  2.6? -->
      </dep:dependency>

      <dep:dependency>
        <dep:groupId>commons-validator</dep:groupId>
        <dep:artifactId>commons-validator</dep:artifactId>
        <dep:version>1.3.1</dep:version>
      </dep:dependency>

      <dep:dependency>
        <dep:groupId>com.google.code.gson</dep:groupId>
        <dep:artifactId>gson</dep:artifactId>
        <dep:version>1.5</dep:version>
      </dep:dependency>

      <dep:dependency>
        <dep:groupId>net.fortuna.ical4j</dep:groupId>
        <dep:artifactId>ical4j</dep:artifactId>
        <dep:version>1.0-BW-SNAPSHOT</dep:version>
      </dep:dependency>

      <dep:dependency>
        <dep:groupId>net.fortuna.ical4j-vcard</dep:groupId>
        <dep:artifactId>ical4j-vcard</dep:artifactId>
        <dep:version>0.9.3-SNAPSHOT</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.imgscalr</dep:groupId>
        <dep:artifactId>imgscalr-lib</dep:artifactId>
        <dep:version>4.2</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>com.sun.mail</dep:groupId>
        <dep:artifactId>dsn</dep:artifactId>
        <dep:version>1.4.5</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>net.sf.ehcache</dep:groupId>
        <dep:artifactId>ehcache-core</dep:artifactId>
        <dep:version>2.5.1</dep:version>
      </dep:dependency>

      <dep:dependency>
        <dep:groupId>com.sun.mail</dep:groupId>
        <dep:artifactId>imap</dep:artifactId>
        <dep:version>1.4.5</dep:version>
      </dep:dependency>

      <dep:dependency>
        <dep:groupId>javax.servlet</dep:groupId>
        <dep:artifactId>jstl</dep:artifactId>
        <dep:version>1.2</dep:version>
      </dep:dependency>      

      <dep:dependency>
        <dep:groupId>javax.transaction</dep:groupId>
        <dep:artifactId>jta</dep:artifactId>
        <dep:version>1.1</dep:version>
      </dep:dependency>      

      <!-- Not used?
           393259 2012-03-29 09:41 jstl-standard-1.1.2.jar
                -->
      
      <dep:dependency>
        <dep:groupId>com.sun.mail</dep:groupId>
        <dep:artifactId>mailapi</dep:artifactId>
        <dep:version>1.4.5</dep:version>
      </dep:dependency>

      <dep:dependency>
        <dep:groupId>com.sun.mail</dep:groupId>
        <dep:artifactId>pop3</dep:artifactId>
        <dep:version>1.4.5</dep:version>
      </dep:dependency>
      
      <!-- Xalan related
             276431 2012-03-29 09:41 serializer-2.7.1.jar
 --> 
 
      <dep:dependency>
        <dep:groupId>com.sun.mail</dep:groupId>
        <dep:artifactId>smtp</dep:artifactId>
        <dep:version>1.4.5</dep:version>
      </dep:dependency>

      <dep:dependency>
        <dep:groupId>org.apache.geronimo.specs</dep:groupId>
        <dep:artifactId>geronimo-jsp_2.1_spec</dep:artifactId>
        <dep:version>1.0.1</dep:version>
      </dep:dependency>      

      <dep:dependency>
        <dep:groupId>org.apache.geronimo.framework</dep:groupId>
        <dep:artifactId>geronimo-kernel</dep:artifactId>
        <dep:version>2.2.1</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.apache.httpcomponents</dep:groupId>
        <dep:artifactId>httpclient</dep:artifactId>
        <dep:version>4.1.2</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.apache.httpcomponents</dep:groupId>
        <dep:artifactId>httpcore</dep:artifactId>
        <dep:version>4.1.2</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.apache.lucene</dep:groupId>
        <dep:artifactId>lucene-core</dep:artifactId>
        <dep:version>2.0.0</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.apache.lucene</dep:groupId>
        <dep:artifactId>lucene-misc</dep:artifactId>
        <dep:version>2.0.0</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.apache.struts</dep:groupId>
        <dep:artifactId>struts-core</dep:artifactId>
        <dep:version>1.3.10</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.apache.struts</dep:groupId>
        <dep:artifactId>struts-taglib</dep:artifactId>
        <dep:version>1.3.10</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.hibernate</dep:groupId>
        <dep:artifactId>hibernate-core</dep:artifactId>
        <dep:version>3.6.9.Final</dep:version>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-annotations</dep:artifactId>
        <dep:version>@orgBedeworkAnnotationsVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-calfacade</dep:artifactId>
        <dep:version>@orgBedeworkCalfacadeVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-davio</dep:artifactId>
        <dep:version>@orgBedeworkDavutilVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-icalendar</dep:artifactId>
        <dep:version>@orgBedeworkIcalendarVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-interfaces</dep:artifactId>
        <dep:version>@orgBedeworkInterfacesVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-misc</dep:artifactId>
        <dep:version>@orgBedeworkMiscVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-sysevents</dep:artifactId>
        <dep:version>@orgBedeworkSyseventsVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>rpiaccess</dep:artifactId>
        <dep:version>@orgBedeworkAccessVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>rpiutil</dep:artifactId>
        <dep:version>@orgBedeworkRpiutilVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework.caldav</dep:groupId>
        <dep:artifactId>bw-cdvserver</dep:artifactId>
        <dep:version>@orgBedeworkCaldavVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework.caldav</dep:groupId>
        <dep:artifactId>bw-cdvutil</dep:artifactId>
        <dep:version>@orgBedeworkCaldavVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
          
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-webdavserver</dep:artifactId>
        <dep:version>@orgBedeworkWebdavVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
           
      <dep:dependency>
        <dep:groupId>org.bedework.bwwebapps</dep:groupId>
        <dep:artifactId>bw-appcommon</dep:artifactId>
        <dep:version>@orgBedeworkWebappsVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
           
      <dep:dependency>
        <dep:groupId>org.bedework.bwwebapps</dep:groupId>
        <dep:artifactId>bw-webcommon</dep:artifactId>
        <dep:version>@orgBedeworkWebappsVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
           
      <dep:dependency>
        <dep:groupId>org.bedework.bwcalcore</dep:groupId>
        <dep:artifactId>bw-alarms</dep:artifactId>
        <dep:version>@orgBedeworkCalcoreVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
           
      <dep:dependency>
        <dep:groupId>org.bedework.bwcalcore</dep:groupId>
        <dep:artifactId>bw-calcore</dep:artifactId>
        <dep:version>@orgBedeworkCalcoreVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
           
      <dep:dependency>
        <dep:groupId>org.bedework.bwcalcore</dep:groupId>
        <dep:artifactId>bw-calcorei</dep:artifactId>
        <dep:version>@orgBedeworkCalcoreVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
           
      <dep:dependency>
        <dep:groupId>org.bedework.bwcalcore</dep:groupId>
        <dep:artifactId>bw-calsvc</dep:artifactId>
        <dep:version>@orgBedeworkCalcoreVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
            
      <dep:dependency>
        <dep:groupId>org.bedework.bwcalcore</dep:groupId>
        <dep:artifactId>bw-inoutsched</dep:artifactId>
        <dep:version>@orgBedeworkCalcoreVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
           
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-indexer</dep:artifactId>
        <dep:version>@orgBedeworkIndexerVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
           
      <dep:dependency>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-dumpres</dep:artifactId>
        <dep:version>@orgBedeworkDumprestoreVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
          
      <dep:dependency>
        <dep:groupId>org.bedework.bwxml</dep:groupId>
        <dep:artifactId>bw-synchwsschema</dep:artifactId>
        <dep:version>@orgBedeworkBwxmlVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
          
      <dep:dependency>
        <dep:groupId>org.bedework.bwxml</dep:groupId>
        <dep:artifactId>bw-tzschema</dep:artifactId>
        <dep:version>@orgBedeworkBwxmlVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
      
      <dep:dependency>
        <dep:groupId>org.bedework.bwxml</dep:groupId>
        <dep:artifactId>bw-calws-soapschema</dep:artifactId>
        <dep:version>@orgBedeworkBwxmlVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
          
      <dep:dependency>
        <dep:groupId>org.bedework.bwxml</dep:groupId>
        <dep:artifactId>bw-caldavschema</dep:artifactId>
        <dep:version>@orgBedeworkBwxmlVersion@</dep:version>
        <dep:type>jar</dep:type>
      </dep:dependency>
    </dep:dependencies>
   </dep:environment>

  <!-- The web modules at least need to be generated automatically by the build
       as they depend on build settings. The same  task that generates the 
       application.xml could build this file - perhaps even create the 
       dependencies above.
   -->

  <module>
    <web>eventsubmit.war</web>
    <alt-dd>eventsubmit.war/WEB-INF/geronimo-web.xml</alt-dd>
  </module>

  <module>
    <web>ucalws.war</web>
    <alt-dd>ucalws.war/WEB-INF/geronimo-web.xml</alt-dd>
  </module>

  <module>
    <web>feeder.war</web>
    <alt-dd>feeder.war/WEB-INF/geronimo-web.xml</alt-dd>
  </module>

  <module>
    <web>pubcaldav.war</web>
    <alt-dd>pubcaldav.war/WEB-INF/geronimo-web.xml</alt-dd>
  </module>

  <module>
    <web>ucal.war</web>
    <alt-dd>ucal.war/WEB-INF/geronimo-web.xml</alt-dd>
  </module>

  <module>
    <web>bedework-common.war</web>
    <alt-dd>bedework-common.war/WEB-INF/geronimo-web.xml</alt-dd>
  </module>

  <module>
    <web>soedept.war</web>
    <alt-dd>soedept.war/WEB-INF/geronimo-web.xml</alt-dd>
  </module>

  <module>
    <web>caladmin.war</web>
    <alt-dd>caladmin.war/WEB-INF/geronimo-web.xml</alt-dd>
  </module>

  <module>
    <web>ucaldav.war</web>
    <alt-dd>ucaldav.war/WEB-INF/geronimo-web.xml</alt-dd>
  </module>

  <module>
    <web>cal.war</web>
    <alt-dd>cal.war/WEB-INF/geronimo-web.xml</alt-dd>
  </module>

  <module>
    <web>pubcalws.war</web>
    <alt-dd>pubcalws.war/WEB-INF/geronimo-web.xml</alt-dd>
  </module>
  
  <!-- 
      <ext-module>
        <java>bw-annotations</java>
        <external-path>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-annotations</dep:artifactId>
        <dep:version>@orgBedeworkAnnotationsVersion@</dep:version>
      </external-path>
      </ext-module>
      
      <ext-module>
        <java>bw-calfacade</java>
        <external-path>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-calfacade</dep:artifactId>
        <dep:version>@orgBedeworkCalfacadeVersion@</dep:version>
      </external-path>
      </ext-module>
      
      <ext-module>
        <java>bw-davio</java>
        <external-path>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-davio</dep:artifactId>
        <dep:version>@orgBedeworkDavutilVersion@</dep:version>
      </external-path>
      </ext-module>
      
      <ext-module>
        <java>bw-icalendar</java>
        <external-path>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-icalendar</dep:artifactId>
        <dep:version>@orgBedeworkIcalendarVersion@</dep:version>
      </external-path>
      </ext-module>
      
      <ext-module>
        <java>bw-interfaces</java>
        <external-path>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-interfaces</dep:artifactId>
        <dep:version>@orgBedeworkInterfacesVersion@</dep:version>
      </external-path>
      </ext-module>
      
      <ext-module>
        <java>bw-misc</java>
        <external-path>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-misc</dep:artifactId>
        <dep:version>@orgBedeworkMiscVersion@</dep:version>
      </external-path>
      </ext-module>
      
      <ext-module>
        <java>bw-sysevents</java>
        <external-path>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-sysevents</dep:artifactId>
        <dep:version>@orgBedeworkSyseventsVersion@</dep:version>
      </external-path>
      </ext-module>
      
      <ext-module>
        <java>rpiaccess</java>
        <external-path>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>rpiaccess</dep:artifactId>
        <dep:version>@orgBedeworkAccessVersion@</dep:version>
      </external-path>
      </ext-module>
      
      <ext-module>
        <java>rpiutil</java>
        <external-path>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>rpiutil</dep:artifactId>
        <dep:version>@orgBedeworkRpiutilVersion@</dep:version>
      </external-path>
      </ext-module>
      
      <ext-module>
        <java>bw-cdvserver</java>
        <external-path>
        <dep:groupId>org.bedework.caldav</dep:groupId>
        <dep:artifactId>bw-cdvserver</dep:artifactId>
        <dep:version>@orgBedeworkCaldavVersion@</dep:version>
      </external-path>
      </ext-module>
      
      <ext-module>
        <java>bw-cdvutil</java>
        <external-path>
        <dep:groupId>org.bedework.caldav</dep:groupId>
        <dep:artifactId>bw-cdvutil</dep:artifactId>
        <dep:version>@orgBedeworkCaldavVersion@</dep:version>
      </external-path>
      </ext-module>
          
      <ext-module>
        <java>bw-webdavserver</java>
        <external-path>
        <dep:groupId>org.bedework</dep:groupId>
        <dep:artifactId>bw-webdavserver</dep:artifactId>
        <dep:version>@orgBedeworkWebdavVersion@</dep:version>
      </external-path>
      </ext-module>
           
      <ext-module>
        <java>bw-appcommon</java>
        <external-path>
        <dep:groupId>org.bedework.bwwebapps</dep:groupId>
        <dep:artifactId>bw-appcommon</dep:artifactId>
        <dep:version>@orgBedeworkWebappsVersion@</dep:version>
      </ext-module>
           
      <ext-module>
        <java>bw-webcommon</java>
        <external-path>
        <dep:groupId>org.bedework.bwwebapps</dep:groupId>
        <dep:artifactId>bw-webcommon</dep:artifactId>
        <dep:version>@orgBedeworkWebappsVersion@</dep:version>
      </external-path>
      </ext-module>
           
      <ext-module>
        <java>bw-alarms</java>
        <external-path>
        <dep:groupId>org.bedework.bwcalcore</dep:groupId>
        <dep:artifactId>bw-alarms</dep:artifactId>
        <dep:version>@orgBedeworkCalcoreVersion@</dep:version>
      </ext-module>
           
      <ext-module>
        <java>bw-calcore</java>
        <external-path>
        <dep:groupId>org.bedework.bwcalcore</dep:groupId>
        <dep:artifactId>bw-calcore</dep:artifactId>
        <dep:version>@orgBedeworkCalcoreVersion@</dep:version>
      </ext-module>
           
      <ext-module>
        <java>bw-calcorei</java>
        <external-path>
        <dep:groupId>org.bedework.bwcalcore</dep:groupId>
        <dep:artifactId>bw-calcorei</dep:artifactId>
        <dep:version>@orgBedeworkCalcoreVersion@</dep:version>
      </ext-module>
           
    <ext-module>
      <java>bw-calsvc</java>
        <external-path>
        <dep:groupId>org.bedework.bwcalcore</dep:groupId>
        <dep:artifactId>bw-calsvc</dep:artifactId>
        <dep:version>@orgBedeworkCalcoreVersion@</dep:version>
      </external-path>
    </ext-module>
            
      <ext-module>
        <java>bw-inoutsched</java>
        <external-path>
        <dep:groupId>org.bedework.bwcalcore</dep:groupId>
        <dep:artifactId>bw-inoutsched</dep:artifactId>
        <dep:version>@orgBedeworkCalcoreVersion@</dep:version>
        </external-path>
      </ext-module>

      <ext-module>
        <java>bw-indexer</java>
        <external-path>
          <dep:groupId>org.bedework</dep:groupId>
          <dep:artifactId>bw-indexer</dep:artifactId>
          <dep:version>@orgBedeworkIndexerVersion@</dep:version>
        </external-path>
      </ext-module>
           
      <ext-module>
        <java>bw-dumpres</java>
        <external-path>
          <dep:groupId>org.bedework</dep:groupId>
          <dep:artifactId>bw-dumpres</dep:artifactId>
          <dep:version>@orgBedeworkDumprestoreVersion@</dep:version>
        </external-path>
      </ext-module>
      -->
           
  <!-- It might be better to deploy the following separately. There's 
       probably not much advantage to a single deployment - at least library wise. -->
       
    <dep:gbean name="Bedework-Indexer" 
               class="org.bedework.indexer.BwIndexer">
      <attribute name="acount" type="java.lang.String">admin</attribute>
      <attribute name="skipPaths" type="java.lang.String">/public/unbrowsable:/public/aliases</attribute>
    </dep:gbean>       

  <!-- Provides a (mostly unimplemented) way to manage the ischedule outbound 
       service allowing the adddition of hardwired links...  -->  
    <dep:gbean name="BwIschedule" 
               class="org.bedework.calsvc.scheduling.ischedule.BwIschedule">
      <attribute name="acount" type="java.lang.String">admin</attribute>
    </dep:gbean>       
       
    <dep:gbean name="BwInoutSched" 
               class="org.bedework.inoutsched.BwInoutSched">
               <!-- 
    < ! - - We need activemq  - - >    
    <depends>jboss.jca:service=ConnectionFactoryBinding,name=activemq/QueueConnectionFactory</depends>
    
    < ! - - We also need the bedework database - - >
    <depends>jboss.jca:service=DataSourceBinding,name=CalendarDS</depends>
                -->
    </dep:gbean>       
  
    <dep:gbean name="CalDAVSynchConnections" 
               class="org.bedework.caldav.server.soap.synch.SynchConnections">
    </dep:gbean>       
  
    <dep:gbean name="DumpRestore" 
               class="org.bedework.dumprestore.BwDumpRestore">
      <attribute name="acount" type="java.lang.String">admin</attribute>
  
    <!-- Create tables - false for safety - set true in console -->
    <attribute name="create" type="java.lang.String">false</attribute>
    
    <!-- Statement delimiter -->
    <attribute name="delimiter" type="java.lang.String">;</attribute>
    
    <!-- Drop tables - false for safety - set true in console -->
    <attribute name="drop">false</attribute>
    
    <!-- Export to database? - false for safety - set true in console -->
    <attribute name="export">false</attribute>
    
    <!-- Format the output? -->
    <attribute name="format">true</attribute>
    
    <!-- Do we halt on error? -->
    <attribute name="haltOnError">true</attribute>
    
    <!-- Schema Output file name - full path, folders must exist -->
    <attribute name="schemaOutFile" 
               type="java.lang.String">${jboss.server.data.dir}/bedework/dumprestore/schema.txt</attribute>
    
    <!-- SQL input file name - full path. Used instead of the configuration? -->
    <!--  There appears to be a bug in the hibernate code. Everybody initializes
        this to /import.sql. Set to null causes an NPE 
        Make sure it refers to a non-existant file -->
    <attribute name="sqlIn" type="java.lang.String">not-a-file.sql</attribute>
    
    <!-- XML data input file name - full path. Used for data restore -->
    <attribute name="dataIn" type="java.lang.String">${jboss.server.data.dir}/bedework/dumprestore/initbedework.xml</attribute>
    
    <!-- XML data output directory - full path. Used for data dump -->
    <attribute name="dataOut" type="java.lang.String">${jboss.server.data.dir}/bedework/dumprestore/</attribute>
    
    <!-- XML data output file prefix - for data dump -->
    <attribute name="dataOutPrefix" type="java.lang.String">bwdata</attribute>

    <!-- We need activemq   
    <depends>jboss.jca:service=ConnectionFactoryBinding,name=activemq/QueueConnectionFactory</depends>
    
    < ! - - We also need the bedework database - - >
    <depends>jboss.jca:service=DataSourceBinding,name=CalendarDS</depends> --> 
  </dep:gbean>       
</application>